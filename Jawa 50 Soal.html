<!DOCTYPE html>
<html lang="jv" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Latihan Nyusun Ukara Basa Jawa</title>
<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    height: 100vh;
    overflow: hidden;
  }
  header {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 1.75cm;
    background-color: #001f4d;
    color: white;
    text-align: center;
    padding-top: 5px;
    line-height: 1.25;
    z-index: 2;
  }
  #container {
    display: flex;
    margin-top: 1.75cm;
    width: 100%;
  }
  #navigator {
    width: 8cm;
    background-color: #f0f0f0;
    border-right: 2px solid #ccc;
    overflow-y: auto;
  }
  #navigator button {
    width: 100%;
    padding: 10px;
    border: none;
    background: none;
    text-align: left;
    cursor: pointer;
    border-bottom: 1px solid #ddd;
    font-size: 16px;
  }
  #navigator button:hover {
    background-color: #ddd;
  }
  #navigator button.selesai {
    background-color: #6fbf73;
    color: white;
  }
  #content {
    flex-grow: 1;
    padding: 20px;
    text-align: center;
  }
  .word {
    display: inline-block;
    margin: 5px;
    padding: 10px 15px;
    background-color: #f5f5f5;
    border: 1px solid #bbb;
    border-radius: 5px;
    cursor: grab;
    font-size: 20px;
  }
  #dropArea {
    min-height: 100px;
    border: 2px dashed #aaa;
    margin-top: 20px;
    padding: 10px;
    background-color: #fff;
  }
  button.action {
    margin: 10px;
    padding: 10px 20px;
    font-size: 16px;
    border: none;
    color: white;
    border-radius: 5px;
    cursor: pointer;
  }
  #checkBtn { background-color: green; }
  #resetBtn { background-color: red; }
  #shuffleBtn { background-color: blue; }
  #progress {
    position: fixed;
    top: 5px;
    right: 20px;
    color: white;
    font-size: 16px;
  }
</style>
</head>
<body>
  <header>
    <div><strong>LATIHAN NYUSUN UKARA BASA JAWA</strong></div>
    <div>Disusun déning: Tim Pengembang Media Pembelajaran Online Berbasis AI FK2MTs. LP Ma’arif NU Kudus.</div>
    <div id="progress">0 / 50 soal rampung</div>
  </header>

  <div id="container">
    <div id="navigator"></div>
    <div id="content">
      <h2 id="soalTitle"></h2>
      <div id="wordsContainer"></div>
      <div id="dropArea" ondragover="event.preventDefault()" ondrop="dropWord(event)"></div>
      <br>
      <button class="action" id="checkBtn" onclick="checkAnswer()">Hasil</button>
      <button class="action" id="resetBtn" onclick="resetSoal()">Reset</button>
      <button class="action" id="shuffleBtn" onclick="shuffleWords()">Acak</button>
      <p id="feedback"></p>
    </div>
  </div>

<script>
// Daftar 50 soal Basa Jawa
const soalList = [
["Aku","mangan","sega"],
["Kowe","turu","ing","omah"],
["Dheweke","mlaku","meneh"],
["Aku","nyapu","lantai"],
["Bapak","tindak","pasar"],
["Ibu","masak","sayur"],
["Adik","sinau","ing","kelas"],
["Simba","lungguh","ing","kursi"],
["Bocah","dolanan","bal-balan"],
["Guru","nerangake","pelajaran"],
["Aku","nyiram","kembang"],
["Kucing","turu","ing","kursi"],
["Wong","maca","koran"],
["Dheweke","tuku","es","krim"],
["Aku","nulis","layang"],
["Kanca","nyanyi","bareng"],
["Bapak","maca","kitab"],
["Ibu","ngumbah","klambi"],
["Aku","numpak","pit"],
["Dheweke","ngombe","teh"],
["Kowe","mlaku","bareng","aku"],
["Aku","ngresiki","kamar"],
["Adik","mangan","roti"],
["Simba","maca","doa"],
["Bapak","gawe","kursi","anyar"],
["Aku","nonton","tv"],
["Ibu","nggodhok","banyu"],
["Kowe","tuku","apel"],
["Aku","lungguh","ing","kursi"],
["Bocah","mlumpat","seneng"],
["Aku","nulis","cerita"],
["Wong","nyapu","teras"],
["Ibu","nyetrika","klambi"],
["Bapak","nyopir","mobil"],
["Aku","ngumbah","piring"],
["Kowe","dolanan","wayang"],
["Aku","nggawe","kue"],
["Dheweke","maca","buku"],
["Aku","ngombe","kopi"],
["Bapak","ndandani","motor"],
["Ibu","nyiram","kembang"],
["Aku","turu","awet"],
["Kanca","mangan","bareng"],
["Aku","mlaku","ing","dalane"],
["Bapak","ngajar","murid"],
["Aku","nglumpukake","sampah"],
["Kowe","nyapu","teras"],
["Aku","nindakake","tugas"],
["Dheweke","masak","nasi"],
["Aku","ngunjungi","simba"],
["Aku","nulis","ukara","anyar"]
];

while (soalList.length < 50) soalList.push(...soalList.slice(0, 50));
soalList.length = 50;

let currentIndex = 0;
let droppedWords = [];
let finished = Array(50).fill(false);
let score = 0;

function initNavigator() {
  const nav = document.getElementById('navigator');
  soalList.forEach((_, i) => {
    const btn = document.createElement('button');
    btn.textContent = `Soal Nomor ${i+1}`;
    btn.onclick = () => loadSoal(i);
    nav.appendChild(btn);
  });
}

function loadSoal(index) {
  currentIndex = index;
  const words = [...soalList[index]];
  droppedWords = [];
  shuffleArray(words);
  document.getElementById('soalTitle').textContent = `Soal Nomor ${index+1}`;
  const container = document.getElementById('wordsContainer');
  container.innerHTML = '';
  words.forEach(w => {
    const el = document.createElement('div');
    el.textContent = w;
    el.className = 'word';
    el.draggable = true;
    el.ondragstart = dragWord;
    container.appendChild(el);
  });
  document.getElementById('dropArea').innerHTML = '';
  document.getElementById('feedback').textContent = '';
}

function dragWord(e) {
  e.dataTransfer.setData("text", e.target.textContent);
  e.target.style.opacity = 0.5;
}

function dropWord(e) {
  const word = e.dataTransfer.getData("text");
  const dropArea = document.getElementById('dropArea');
  const wordDiv = document.createElement('div');
  wordDiv.textContent = word;
  wordDiv.className = 'word';
  dropArea.appendChild(wordDiv);
  droppedWords.push(word);
  [...document.querySelectorAll('#wordsContainer .word')].forEach(el=>{
    if(el.textContent===word) el.remove();
  });
}

function checkAnswer() {
  const correct = JSON.stringify(droppedWords) === JSON.stringify(soalList[currentIndex]);
  const fb = document.getElementById('feedback');
  if (correct) {
    fb.textContent = "Hebat! Jawaban sampeyan bener.";
    if (!finished[currentIndex]) score += 2;
    finished[currentIndex] = true;
    updateNavigator();
  } else {
    fb.textContent = "Maaf, jawaban salah. Coba maneh.";
  }
  updateProgress();
  if (finished.every(Boolean)) {
    setTimeout(()=>alert(`Kabeh soal rampung!\nSkor panjenengan: ${score}/100`), 500);
  }
}

function resetSoal() { loadSoal(currentIndex); }

function shuffleWords() { loadSoal(currentIndex); }

function shuffleArray(arr) {
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
}

function updateNavigator() {
  const buttons = document.querySelectorAll('#navigator button');
  buttons.forEach((b, i) => {
    if(finished[i]) b.classList.add('selesai');
  });
}

function updateProgress() {
  const done = finished.filter(Boolean).length;
  document.getElementById('progress').textContent = `${done} / 50 soal rampung`;
}

window.onbeforeunload = function() {
  if (finished.includes(false)) {
    return "Ana jawaban sing durung disimpen. Yakin arep metu?";
  }
};

initNavigator();
loadSoal(0);
</script>
</body>
</html>
